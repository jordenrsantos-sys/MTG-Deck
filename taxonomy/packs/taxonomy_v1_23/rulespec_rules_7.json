[{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Wheel-style reset marker (discard or shuffle hand then draw).","facet_key":"wheel_effect","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","notes":"Draw count parsing left for v2.","pattern":"each player discards (their|his or her) hand(,| and) draws?|each player shuffles (their|his or her) hand and graveyard into (their|his or her) library(,| and) draws?","priority":"50","rule_id":"RS_WHEEL_EFFECT_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: wheel effect (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"each player discards (their|his or her) hand|shuffles (their|his or her) hand and graveyard into (their|his or her) library","primitive_id":"WHEEL_EFFECT","priority":"51","rule_id":"RS_WHEEL_EFFECT_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Looting template: draw then discard.","facet_key":"loot_effect","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"draw \\\\w+ cards?, then discard \\\\w+ cards?","priority":"80","rule_id":"RS_LOOT_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: loot effect (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"draw \\\\w+ cards?, then discard \\\\w+ cards?","primitive_id":"LOOT_EFFECT","priority":"81","rule_id":"RS_LOOT_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Rummage template: discard then draw.","facet_key":"rummage_effect","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"discard \\\\w+ cards?, then draw \\\\w+ cards?","priority":"90","rule_id":"RS_RUMMAGE_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: rummage effect (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"discard \\\\w+ cards?, then draw \\\\w+ cards?","primitive_id":"RUMMAGE_EFFECT","priority":"91","rule_id":"RS_RUMMAGE_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Impulse draw: exile cards then may play/cast.","facet_key":"impulse_draw","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"exile the top \\\\w+ cards? of your library.*you may (play|cast)","priority":"120","rule_id":"RS_IMPULSE_DRAW_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: impulse draw (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"exile the top \\\\w+ cards? of your library.*you may (play|cast)","primitive_id":"IMPULSE_DRAW","priority":"121","rule_id":"RS_IMPULSE_DRAW_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.55","enabled":"true","explanation":"Broad draw marker; review-heavy.","facet_key":"extra_draw","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"\\bdraw \\\\w+ cards?\\b","priority":"150","rule_id":"RS_EXTRA_DRAW_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.55","enabled":"true","explanation":"Primitive: card draw (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"\\bdraw \\\\w+ cards?\\b","primitive_id":"CARD_DRAW","priority":"151","rule_id":"RS_CARD_DRAW_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.95","enabled":"true","explanation":"No maximum hand size.","facet_key":"hand_size_rule","facet_value":"NO_MAX","match_scope":"oracle_text","match_type":"REGEX","pattern":"you have no maximum hand size","priority":"200","rule_id":"RS_NO_MAX_HAND_SIZE_FACET","unknown_if_ambiguous":"false"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Primitive: no max hand size (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"you have no maximum hand size","primitive_id":"NO_MAX_HAND_SIZE","priority":"201","rule_id":"RS_NO_MAX_HAND_SIZE_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Maximum hand size set to a number (value extraction deferred).","facet_key":"hand_size_rule","facet_value":"SET_VALUE","match_scope":"oracle_text","match_type":"REGEX","pattern":"your maximum hand size is \\\\d+","priority":"210","rule_id":"RS_MAX_HAND_SIZE_SET_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: hand size modifier (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"your maximum hand size is \\\\d+","primitive_id":"HAND_SIZE_MODIFIER","priority":"211","rule_id":"RS_HAND_SIZE_MOD_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Discard outlet (activation cost).","facet_key":"discard_outlet","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"discard a card:|discard \\\\w+ cards?:","priority":"240","rule_id":"RS_DISCARD_OUTLET_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: discard outlet (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"discard a card:|discard \\\\w+ cards?:","primitive_id":"DISCARD_OUTLET","priority":"241","rule_id":"RS_DISCARD_OUTLET_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Opponent discard present (includes each player).","facet_key":"opponent_discard","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"target opponent discards|each opponent discards|each player discards","priority":"280","rule_id":"RS_OPPONENT_DISCARD_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.95","enabled":"true","explanation":"Each opponent discards.","facet_key":"each_opponent_discard","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"each opponent discards","priority":"281","rule_id":"RS_EACH_OPPONENT_DISCARD_FACET","unknown_if_ambiguous":"false"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: opponent discard (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"target opponent discards|each opponent discards","primitive_id":"OPPONENT_DISCARD","priority":"282","rule_id":"RS_OPPONENT_DISCARD_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Limits draws per turn.","facet_key":"draw_denial","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"players can't draw more than \\\\w+ cards each turn|can't draw more than \\\\w+ cards each turn","priority":"320","rule_id":"RS_DRAW_LIMIT_PER_TURN_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Skip draw step denial.","facet_key":"draw_denial","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"skip (your|their) draw step|players skip their draw steps","priority":"321","rule_id":"RS_SKIP_DRAW_STEP_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: draw denial (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"players can't draw more than|skip (your|their) draw step|players skip their draw steps","primitive_id":"DRAW_DENIAL","priority":"322","rule_id":"RS_DRAW_DENIAL_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Draw replacement template marker (replacement effects).","facet_key":"draw_replacement","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"if (a player|you) would draw .* instead","priority":"360","rule_id":"RS_DRAW_REPLACEMENT_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.65","enabled":"true","explanation":"Primitive: draw replacement (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"if (a player|you) would draw .* instead","primitive_id":"DRAW_REPLACEMENT","priority":"361","rule_id":"RS_DRAW_REPLACEMENT_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.95","enabled":"true","explanation":"Madness keyword marker.","facet_key":"madness_enabler","facet_value":"true","match_scope":"oracle_text","match_type":"CONTAINS","pattern":"Madness","priority":"400","rule_id":"RS_MADNESS_FACET","unknown_if_ambiguous":"false"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Primitive: madness (ensure exists).","match_scope":"oracle_text","match_type":"CONTAINS","pattern":"Madness","primitive_id":"MADNESS","priority":"401","rule_id":"RS_MADNESS_TAG","unknown_if_ambiguous":"true"}]