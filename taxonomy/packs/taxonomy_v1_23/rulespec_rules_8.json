[{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.55","enabled":"true","explanation":"Broad zone-move marker; review-heavy.","facet_key":"zone_move","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","notes":"Routes complex zone text for deeper tagging.","pattern":"\\b(return|exile|put|shuffle)\\b.*\\b(battlefield|graveyard|hand|library|exile)\\b","priority":"10","rule_id":"RS_ZONE_MOVE_MARKER","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"GY -> Battlefield return.","facet_key":"zone_move","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"return target .* from (your|a|an|the) graveyard to the battlefield|return target .* card from (your|a|an|the) graveyard to the battlefield","priority":"40","rule_id":"RS_GY_TO_BF_RETURN","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Source zone graveyard.","facet_key":"zone_from","facet_value":"GRAVEYARD","match_scope":"oracle_text","match_type":"REGEX","pattern":"from (your|a|an|the) graveyard to the battlefield","priority":"41","rule_id":"RS_ZONE_FROM_GY","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.7","enabled":"true","explanation":"Destination zone battlefield (broad).","facet_key":"zone_to","facet_value":"BATTLEFIELD","match_scope":"oracle_text","match_type":"REGEX","pattern":"to the battlefield","priority":"42","rule_id":"RS_ZONE_TO_BF","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: graveyard recursion (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","notes":"Downstream logic can distinguish your vs any graveyard by phrase capture.","pattern":"from (your|a|an|the) graveyard to the battlefield","primitive_id":"GRAVEYARD_RECURSION","priority":"43","rule_id":"RS_GY_RECURSION_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.65","enabled":"true","explanation":"Primitive: move to graveyard (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"put .* into (its owner's|their owners') graveyard|put .* into the graveyard","primitive_id":"MOVE_TO_GRAVEYARD","priority":"60","rule_id":"RS_BF_TO_GY_MOVE_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Exile then return (blink).","facet_key":"exile_then_return","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"exile .* (then )?return .* to the battlefield|exile .* (then )?return that card to the battlefield","priority":"90","rule_id":"RS_EXILE_THEN_RETURN_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: exile then return (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"exile .* return .* to the battlefield","primitive_id":"EXILE_THEN_RETURN","priority":"91","rule_id":"RS_EXILE_THEN_RETURN_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Delayed return at next end step.","facet_key":"delayed_return","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"return .* to the battlefield at the beginning of the next end step|return .* at the beginning of the next end step","priority":"120","rule_id":"RS_DELAYED_RETURN_NEXT_END_STEP_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.95","enabled":"true","explanation":"Next end step timing.","facet_key":"end_step_timing","facet_value":"BEGIN_NEXT_END_STEP","match_scope":"oracle_text","match_type":"REGEX","pattern":"at the beginning of the next end step","priority":"121","rule_id":"RS_END_STEP_TIMING_NEXT","unknown_if_ambiguous":"false"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: delayed return (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"at the beginning of the next end step","primitive_id":"DELAYED_RETURN","priority":"122","rule_id":"RS_DELAYED_RETURN_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Skips end step/phase.","facet_key":"end_step_timing","facet_value":"SKIP_END_STEP","match_scope":"oracle_text","match_type":"REGEX","pattern":"skip your end step|skip the end step|skip your end phase|skip the end phase","priority":"150","rule_id":"RS_SKIP_END_STEP_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: skip end step (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"skip your end step|skip the end step|skip your end phase|skip the end phase","primitive_id":"SKIP_END_STEP","priority":"151","rule_id":"RS_SKIP_END_STEP_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Dies trigger marker.","facet_key":"dies_trigger","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"(when|whenever) .* dies","priority":"180","rule_id":"RS_DIES_TRIGGER_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: dies trigger (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"(when|whenever) .* dies","primitive_id":"DIES_TRIGGER","priority":"181","rule_id":"RS_DIES_TRIGGER_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Leaves-the-battlefield trigger marker.","facet_key":"ltb_trigger","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"(when|whenever) .* leaves the battlefield","priority":"190","rule_id":"RS_LTB_TRIGGER_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: LTB trigger (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"(when|whenever) .* leaves the battlefield","primitive_id":"LTB_TRIGGER","priority":"191","rule_id":"RS_LTB_TRIGGER_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Returns something on death pattern.","facet_key":"return_on_death","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"when .* dies, return .* to the battlefield|when .* dies, return .* to (its owner's|your) hand","priority":"220","rule_id":"RS_RETURN_ON_DEATH_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.7","enabled":"true","explanation":"Primitive: return on death (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"when .* dies, return","primitive_id":"RETURN_ON_DEATH","priority":"221","rule_id":"RS_RETURN_ON_DEATH_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Return as token / token copy marker.","facet_key":"return_as_token","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"return it to the battlefield under your control as a token|create a token that's a copy of","priority":"260","rule_id":"RS_RETURN_AS_TOKEN_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Token copy marker.","facet_key":"token_copy","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"create a token that's a copy of","priority":"261","rule_id":"RS_TOKEN_COPY_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: token copy (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"create a token that's a copy of","primitive_id":"TOKEN_COPY","priority":"262","rule_id":"RS_TOKEN_COPY_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.65","enabled":"true","explanation":"Primitive: return/create as token (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","notes":"Broad; unknown->review.","pattern":"as a token|token that's a copy of","primitive_id":"RETURN_AS_TOKEN","priority":"263","rule_id":"RS_RETURN_AS_TOKEN_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.65","enabled":"true","explanation":"Replacement effect template marker.","facet_key":"replacement_effect","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","notes":"Broad; review-heavy.","pattern":"\\bif\\b .* would .* instead|would .* instead","priority":"300","rule_id":"RS_REPLACEMENT_EFFECT_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.6","enabled":"true","explanation":"Primitive: replacement effect (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"\\bif\\b .* would .* instead|would .* instead","primitive_id":"REPLACEMENT_EFFECT","priority":"301","rule_id":"RS_REPLACEMENT_EFFECT_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Death replacement template marker.","facet_key":"death_replacement","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"if .* would die, .* instead|if .* would be put into a graveyard from the battlefield, .* instead","priority":"310","rule_id":"RS_DEATH_REPLACEMENT_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.7","enabled":"true","explanation":"Primitive: death replacement (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"would die|put into a graveyard from the battlefield.* instead","primitive_id":"DEATH_REPLACEMENT","priority":"311","rule_id":"RS_DEATH_REPLACEMENT_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.9","enabled":"true","explanation":"Token doubling marker.","facet_key":"token_doubling","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"create twice that many tokens|twice that many tokens are created","priority":"350","rule_id":"RS_TOKEN_DOUBLING_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Primitive: token doubling (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"create twice that many tokens|twice that many tokens are created","primitive_id":"TOKEN_DOUBLING","priority":"351","rule_id":"RS_TOKEN_DOUBLING_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.85","enabled":"true","explanation":"Counter doubling marker.","facet_key":"counter_doubling","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"put twice that many \\\\+1/\\\\+1 counters|put twice that many counters|twice that many counters are placed","priority":"360","rule_id":"RS_COUNTER_DOUBLING_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Primitive: counter doubling (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"twice that many counters","primitive_id":"COUNTER_DOUBLING","priority":"361","rule_id":"RS_COUNTER_DOUBLING_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"Enters with counters marker.","facet_key":"enters_with_counters","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"enters the battlefield with \\\\w+ counters? on it|enters with \\\\w+ counters?","priority":"390","rule_id":"RS_ENTERS_WITH_COUNTERS_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.75","enabled":"true","explanation":"Primitive: enters with counters (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"enters the battlefield with \\\\w+ counters? on it|enters with \\\\w+ counters?","primitive_id":"ENTERS_WITH_COUNTERS","priority":"391","rule_id":"RS_ENTERS_WITH_COUNTERS_TAG","unknown_if_ambiguous":"true"},{"action_type":"ADD_FACET","case_sensitive":"false","confidence":"0.8","enabled":"true","explanation":"As-enters choice marker (replacement-like).","facet_key":"as_enters_choice","facet_value":"true","match_scope":"oracle_text","match_type":"REGEX","pattern":"as .* enters the battlefield, choose|as .* enters, choose","priority":"400","rule_id":"RS_AS_ENTERS_CHOOSE_FACET","unknown_if_ambiguous":"true"},{"action_type":"ADD_TAG","case_sensitive":"false","confidence":"0.7","enabled":"true","explanation":"Primitive: as-enters choice (ensure exists).","match_scope":"oracle_text","match_type":"REGEX","pattern":"as .* enters the battlefield, choose|as .* enters, choose","primitive_id":"AS_ENTERS_CHOICE","priority":"401","rule_id":"RS_AS_ENTERS_CHOOSE_TAG","unknown_if_ambiguous":"true"}]